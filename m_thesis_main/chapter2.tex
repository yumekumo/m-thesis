%%%%%%%%%%%%%%%%%%%%%
% 2章
%%%%%%%%%%%%%%%%%%%%%
\chapter{選挙区割問題} \label{chapter:2}

本章では，選挙区割問題について，国の公表資料から区割作成方針を示し，
問題の定義，数理モデルによる定式化について説明する．

\section{区割作成方針}
衆議院議員選挙の選挙区割の改定案は，
衆議院議員選挙区画定審議会によって作成される．
当審議会では，令和4年2月21日に『区割り改定案の作成方針』を公表しており，
作成方針を簡潔に述べると以下の6点となる．
\begin{enumerate}
    \item 一票の格差は2倍未満とする．
    \item 議員1人当たり人口が最も少ない県においては，各選挙区の人口をできるだけ均等にする．
    \item 改定案の作成にあたり，選挙区の区域の異動は，
    区割り基準に適合させるために必要な範囲とする．
    \item 選挙区は飛び地にしない．
    \item 選挙区を構成する市区町村は原則分割しない．
    \item 地勢，交通，人口動向などの自然的，社会的条件を総合的に考慮する．
\end{enumerate}

本研究では，項目1,2,4,5を主に考慮する．
ただし，項目2は，人口最小の県だけでなく，
全ての都道府県において各選挙区の人口をできるだけ均等にすることを目指す．
項目3は，改定前との区割の比較が研究の主旨ではないため考慮しない．
項目6は，モデル化するには複雑であるため，今回は飛び地にしないことで，
自然的，社会的条件を満たしているとみなす．

\section{問題定義}

区割作成方針をもとに問題を定義する．
まず，都道府県ごとに市区町村とその隣接関係，
各市区町村の人口を重みつきグラフ$G=(V, E, w)$で表現する．
入力は，市区町村数を$n$として，市区町村集合$V=\{v_1,...,v_n\}$, 
市区町村の隣接関係$E=\{\{v_i,v_j\}|$市区町村$v_i$と$v_j$は隣接$\}$, 
市区町村$v_i$の人口$w_i$,選挙区数$d(<n)$が与えられる．
そして出力は，$d$個の選挙区の集合$S=(S_1,...,S_d)$であり，
$S_k$は$k$番目の選挙区に属する市区町村の集合を表す．
ただし，選挙区は以下の制約を満たす必要がある．\\
\quad\textbf{制約1}：選挙区に属する市区町村から誘導される部分グラフは連結である．\\
\quad\textbf{制約2}：全ての市区町村は唯一つの選挙区に属す．\\
\quad\textbf{制約3}：選挙区は空集合ではない．

また，選挙区ごとの人口の和$P=\{P_1,...,P_d\}$ ($P_k=\sum_{v_i\in S_k}w_i\ (k=1,...,d)$)を計算し，
選挙区人口の最小値$\mathrm{min}(P)$ と最大値$\mathrm{max}(P)$を調べる．
制約を満たす選挙区割の中で，一票の格差が最小のもの，
すなわち$\frac{\mathrm{max}(P)}{\mathrm{min}(P)}$の値が最小であるものを最適な選挙区割と定める．


\section{モデル表現}
選挙区割を表す数理モデルの代表例として，集合分割型モデルを説明する．
まず，制約1から連結である市区町村の集合をブロックと名付ける．
空集合を除く全てのブロック集合を$\mathscr{B}$で表し，
ブロック集合$\mathscr{B}$から選んだ$d$個のブロックが制約2を満たすと，
実行可能な区割となる．その中で一票の格差が最小な区割を見つける．

\textbf{入力データ}：市区町村集合$V$，選挙区数$d$，
ブロック集合$\mathscr{B}$を表す行列$[b_{ij}|i=1,...,n,~j=1,...,|\mathscr{B}|]$：
市区町村$v_i$がブロック$j$の構成要素のとき$b_{ij}=1$；
そうでないとき$b_{ij}=0$，
ブロック$j$の人口$q_j=\sum_{i\in n}b_{ij}w_{i}~(j=1,...,|\mathscr{B}|)$．

\textbf{変数}：一つの選挙区の人口上限を示す変数$u$，下限を示す変数$l$，
バイナリ変数$x_j~(j=1,...,|\mathscr{B}|)$：
区割にブロック$j$を使用するとき$x_j=1$；しないとき$x_j=0$．

\textbf{定式化}：
\begin{align}
    &\mathrm{minimize} && u/l && \\
    &\mathrm{subject~to} && q_jx_j\leq u~~(j=1,...,|\mathscr{B}|) && \\
    & && \alpha(1-x_j)+q_jx_j\geq l~~(j=1,...,|\mathscr{B}|) && \\
    & && \sum_{j=1,...,|\mathscr{B}|}b_{ij}x_{j}=1 && \\
    & && \sum_{j=1,...,|\mathscr{B}|}x_j=d && \\
    & && x_j \in \{0,1\}~~(j=1,...,|\mathscr{B}|) &&
\end{align}

ここで，$\alpha$は十分大きな定数とする．
式(2.1)は一票の格差を最小化することを目的関数として示している．
式(2.2)と(2.3)は変数$u$と$l$を正しく表すために必要な制約である．
式(2.4),(2.5),(2.6)は制約2を表現している．
また，制約1と3についてはブロック集合$\mathscr{B}$から選挙区を構成しているため，
条件を満たしている．よって，上述の形で選挙区割問題を定式化することができる，